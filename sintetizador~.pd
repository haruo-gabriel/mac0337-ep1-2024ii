#N canvas 954 32 948 1000 12;
#X declare -lib cyclone;
#X declare -lib zexy;
#X declare -lib cyclone;
#X declare -lib zexy;
#X declare -lib cyclone;
#X obj 10 10 inlet;
#X obj 690 10 inlet~;
#X msg 20 70 1;
#X msg 50 70 0;
#X obj 20 100 switch~;
#N canvas 1432 552 470 443 amplitude 0;
#X obj 10 10 inlet;
#X obj 10 140 v amp;
#X obj 20 40 print amplitude;
#X obj 20 70 loadbang;
#X msg 20 99 1;
#X connect 0 0 1 0;
#X connect 0 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X restore 150 80 pd amplitude;
#X obj 690 40 s~ altura;
#X obj 140 310 outlet~;
#N canvas 954 552 948 443 envelope 0;
#X obj 10 30 inlet;
#X obj 60 91 r ataque;
#X obj 10 330 line~;
#X obj 10 360 outlet~;
#X obj 250 90 r decaimento;
#X msg 210 91 0;
#X obj 210 30 inlet;
#X text 10 10 Ataque;
#X text 210 10 Decaimento;
#X obj 10 90 v amp;
#X obj 10 190 pack f f;
#X obj 210 190 pack f f;
#X obj 240 60 r sequencia_decaimento_bang;
#X obj 30 60 r sequencia_ataque_bang;
#X obj 210 220 t b;
#X msg 210 249 decaindo nota;
#X obj 210 278 print decaimento;
#X obj 30 220 t b;
#X msg 30 249 atacando nota;
#X obj 30 278 print ataque;
#X msg 410 140 decaindo sequencia;
#X obj 410 169 print;
#X obj 240 392 declare -lib cyclone;
#X obj 210 161 cyclone/bondo 2;
#X obj 10 161 cyclone/bondo 2;
#X connect 0 0 9 0;
#X connect 1 0 24 1;
#X connect 2 0 3 0;
#X connect 4 0 23 1;
#X connect 5 0 23 0;
#X connect 6 0 5 0;
#X connect 9 0 24 0;
#X connect 10 0 2 0;
#X connect 10 0 17 0;
#X connect 11 0 2 0;
#X connect 11 0 14 0;
#X connect 12 0 5 0;
#X connect 12 0 20 0;
#X connect 13 0 9 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 20 0 21 0;
#X connect 23 0 11 0;
#X connect 23 1 11 1;
#X connect 24 0 10 0;
#X connect 24 1 10 1;
#X restore 500 220 pd envelope;
#N canvas 8 300 470 227 decaimento 0;
#X obj 10 10 inlet;
#X obj 10 160 s decaimento;
#X msg 20 40 \$1 ms;
#X obj 20 70 print decaimento;
#X obj 20 100 loadbang;
#X msg 20 130 50;
#X connect 0 0 2 0;
#X connect 0 0 1 0;
#X connect 2 0 3 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X restore 280 110 pd decaimento;
#N canvas 486 40 470 1007 ataque 0;
#X obj 10 10 inlet;
#X obj 10 160 s ataque;
#X obj 20 70 print ataque;
#X msg 20 40 \$1 ms;
#X obj 20 100 loadbang;
#X msg 20 129 50;
#X connect 0 0 3 0;
#X connect 0 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X restore 260 80 pd ataque;
#N canvas 1432 552 470 443 vibrato 0;
#X obj 10 10 inlet;
#X obj 10 100 osc~;
#X obj 10 230 *~;
#X obj 10 259 outlet~;
#X obj 70 130 t b f;
#X msg 70 160 2;
#X obj 70 190 pow;
#X floatatom 70 70 5 0 0 0 - - - 0;
#X floatatom 10 70 5 0 0 0 - - - 0;
#X obj 10 39 unpack f f;
#X floatatom 70 220 5 0 0 0 - - - 0;
#X obj 70 100 expr ($f1 * 100 / 1200);
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 4 0 5 0;
#X connect 4 1 6 1;
#X connect 5 0 6 0;
#X connect 6 0 2 1;
#X connect 6 0 10 0;
#X connect 7 0 11 0;
#X connect 8 0 1 0;
#X connect 9 0 8 0;
#X connect 9 1 7 0;
#X connect 11 0 4 0;
#X restore 390 80 pd vibrato;
#N canvas 1432 552 470 443 tremolo 0;
#X obj 10 10 inlet;
#X obj 10 110 osc~;
#X obj 10 140 *~;
#X obj 10 219 outlet~;
#X floatatom 10 70 5 0 0 0 - - - 0;
#X obj 10 39 unpack f f;
#X obj 10 180 +~ 1;
#X floatatom 60 70 5 0 0 0 - - - 0;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 4 0 1 0;
#X connect 5 0 4 0;
#X connect 5 1 7 0;
#X connect 6 0 3 0;
#X connect 7 0 2 1;
#X restore 410 110 pd tremolo;
#N canvas 954 32 948 443 seletor-de-onda 0;
#X obj 10 40 route senoidal quadrada triangular dente-de-serra;
#X obj 10 120 hradio 20 1 0 4 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0;
#X obj 10 150 t f f b;
#X obj 10 190 f -1;
#X obj 10 220 route 0 1 2 3;
#X obj 10 10 inlet;
#X obj 10 250 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 32 250 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 54 250 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 76 250 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 10 70 0;
#X msg 95 70 1;
#X msg 180 70 2;
#X msg 265 70 3;
#X obj 10 290 outlet;
#X obj 60 290 outlet;
#X obj 110 290 outlet;
#X obj 160 290 outlet;
#X obj 60 10 loadbang;
#X connect 0 0 10 0;
#X connect 0 1 11 0;
#X connect 0 2 12 0;
#X connect 0 3 13 0;
#X connect 1 0 2 0;
#X connect 2 0 3 1;
#X connect 2 1 3 0;
#X connect 2 2 3 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 4 1 7 0;
#X connect 4 2 8 0;
#X connect 4 3 9 0;
#X connect 5 0 0 0;
#X connect 6 0 14 0;
#X connect 7 0 15 0;
#X connect 8 0 16 0;
#X connect 9 0 17 0;
#X connect 10 0 1 0;
#X connect 11 0 1 0;
#X connect 12 0 1 0;
#X connect 13 0 1 0;
#X connect 18 0 10 0;
#X restore 140 120 pd seletor-de-onda;
#X f 8;
#N canvas 954 552 948 480 gerador-de-onda 0;
#N canvas 1585 560 327 487 senoidal 0;
#X obj 60 80 osc~;
#X obj 10 10 inlet;
#X obj 10 120 *~;
#X obj 10 150 outlet~;
#X obj 60 10 inlet~;
#X obj 60 50 +~;
#X obj 120 10 inlet~;
#X connect 0 0 2 1;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 6 0 5 1;
#X restore 200 210 pd senoidal;
#N canvas 1585 560 327 487 quadrada 0;
#X obj 30 230 phasor~;
#X obj 30 260 -~ 0.5;
#X obj 30 290 *~ 2;
#X obj 90 230 phasor~;
#X obj 90 260 -~ 0.5;
#X obj 90 290 *~ 2;
#X obj 90 200 *~ -1;
#X msg 140 200 0.5;
#X msg 50 200 0;
#X obj 30 330 +~;
#X obj 10 10 inlet;
#X obj 10 370 *~, f 2;
#X obj 10 400 outlet~;
#X obj 120 140 loadbang;
#X obj 180 199 print;
#X msg 180 170 quadrada: loadbang;
#X obj 70 10 inlet~;
#X obj 140 10 inlet~;
#X obj 70 60 +~;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 9 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 9 1;
#X connect 6 0 3 0;
#X connect 7 0 3 1;
#X connect 8 0 0 1;
#X connect 9 0 11 1;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 13 0 7 0;
#X connect 13 0 8 0;
#X connect 13 0 15 0;
#X connect 15 0 14 0;
#X connect 16 0 18 0;
#X connect 17 0 18 1;
#X connect 18 0 6 0;
#X connect 18 0 0 0;
#X restore 290 210 pd quadrada;
#N canvas 1585 560 327 487 triangular 0;
#X obj 60 120 phasor~;
#X obj 60 150 -~ 0.5;
#X obj 60 180 *~ 2;
#X obj 140 120 phasor~;
#X obj 140 150 -~ 0.5;
#X obj 140 180 *~ 2;
#X obj 140 90 *~ -1;
#X msg 100 90 0;
#X obj 60 250 +~;
#X msg 190 90 0;
#X obj 60 210 clip~ 0 1;
#X obj 140 210 clip~ 0 1;
#X obj 10 10 inlet;
#X obj 10 300 *~;
#X obj 10 330 outlet~;
#X obj 140 50 loadbang;
#X obj 60 10 inlet~;
#X obj 120 10 inlet~;
#X obj 60 39 +~;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 10 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 11 0;
#X connect 6 0 3 0;
#X connect 7 0 0 1;
#X connect 8 0 13 1;
#X connect 9 0 3 1;
#X connect 10 0 8 0;
#X connect 11 0 8 1;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 15 0 7 0;
#X connect 15 0 9 0;
#X connect 16 0 18 0;
#X connect 17 0 18 1;
#X connect 18 0 6 0;
#X connect 18 0 0 0;
#X restore 380 210 pd triangular;
#N canvas 1585 560 327 487 dente-de-serra 0;
#X obj 10 10 inlet;
#X obj 10 170 *~;
#X obj 10 200 outlet~;
#X obj 60 10 inlet~;
#X obj 60 50 +~;
#X obj 120 10 inlet~;
#X obj 60 80 phasor~;
#X obj 60 109 -~ 0.5;
#X obj 60 138 *~ 2;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 1 1;
#X restore 480 210 pd dente-de-serra;
#X obj 200 30 inlet~;
#X obj 10 30 inlet;
#X obj 50 30 inlet;
#X obj 90 30 inlet;
#X obj 130 30 inlet;
#X obj 10 70 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 30 70 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 50 70 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 70 70 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 350 30 r~ altura;
#X text 200 10 Sinal do vibrato;
#X text 10 10 Seletor de onda;
#X text 350 10 Sinal da altura;
#X obj 490 30 r~ sequencia;
#X text 490 10 Sinal da sequência;
#X obj 100 340 print onda;
#X msg 70 210 dente-de-serra;
#X msg 50 240 triangular;
#X msg 30 270 quadrada;
#X msg 10 300 senoidal;
#X obj 470 340 declare -lib zexy;
#X obj 430 50 r modo;
#X obj 440 80 print modo;
#X obj 360 70 mtof~;
#X obj 530 70 mtof~;
#X obj 430 110 mux~ . .;
#X obj 200 340 outlet~;
#X connect 0 0 30 0;
#X connect 1 0 30 0;
#X connect 2 0 30 0;
#X connect 3 0 30 0;
#X connect 4 0 0 1;
#X connect 4 0 1 1;
#X connect 4 0 2 1;
#X connect 4 0 3 1;
#X connect 5 0 9 0;
#X connect 6 0 10 0;
#X connect 7 0 11 0;
#X connect 8 0 12 0;
#X connect 9 0 0 0;
#X connect 9 0 23 0;
#X connect 10 0 1 0;
#X connect 10 0 22 0;
#X connect 11 0 2 0;
#X connect 11 0 21 0;
#X connect 12 0 20 0;
#X connect 12 0 3 0;
#X connect 13 0 27 0;
#X connect 17 0 28 0;
#X connect 20 0 19 0;
#X connect 21 0 19 0;
#X connect 22 0 19 0;
#X connect 23 0 19 0;
#X connect 25 0 26 0;
#X connect 25 0 29 0;
#X connect 27 0 29 0;
#X connect 28 0 29 1;
#X connect 29 0 3 2;
#X connect 29 0 2 2;
#X connect 29 0 1 2;
#X connect 29 0 0 2;
#X restore 140 190 pd gerador-de-onda;
#X f 8;
#X obj 140 250 *~;
#X obj 140 279 *~;
#X obj 10 40 route liga desliga onda amplitude ataque decaimento vibrato tremolo inicia finaliza sequencia, f 93;
#N canvas -1 31 1920 979 sequencia 0;
#X obj 10 10 inlet;
#X obj 10 459 outlet~;
#X obj 60 250 list append;
#X obj 10 189 unpack;
#X obj 10 159 list split 2;
#X obj 10 429 sig~;
#X obj 30 220 delay;
#X obj 190 190 print fim da sequência;
#X obj 30 130 print sequência;
#X obj 10 40 t l l b;
#X obj 70 99 s modo;
#X obj 190 248 s modo;
#X msg 70 70 1;
#X obj 190 220 f 0;
#X obj 190 340 list length;
#X obj 110 70 s sequencia_ataque_bang;
#X obj 190 720 s sequencia_decaimento_bang;
#X obj 240 590 expr ($f1 - $f2);
#X obj 190 398 sel 1;
#X text 190 320 Decaimento da última nota da sequência;
#X obj 240 650 v delay_ultima_nota;
#X obj 210 470 list split 1;
#X obj 190 369 == 2;
#X obj 200 530 v tempo_ultima_nota;
#X obj 240 619 t b f;
#X floatatom 402 555 5 0 0 0 - - - 0;
#X floatatom 200 559 5 0 0 0 - - - 0;
#X obj 402 526 r decaimento;
#X obj 190 690 delay;
#X obj 430 700 print;
#X obj 200 440 delay 10;
#X obj 20 400 print MIDI atual;
#X obj 562 633 declare -lib cyclone;
#X obj 270 560 cyclone/bondo 2;
#X connect 0 0 9 0;
#X connect 2 0 4 0;
#X connect 2 0 14 0;
#X connect 2 0 21 0;
#X connect 3 0 31 0;
#X connect 3 0 5 0;
#X connect 3 1 6 0;
#X connect 4 0 3 0;
#X connect 4 1 2 1;
#X connect 4 2 7 0;
#X connect 4 2 13 0;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 9 0 4 0;
#X connect 9 1 8 0;
#X connect 9 2 12 0;
#X connect 9 2 15 0;
#X connect 12 0 10 0;
#X connect 13 0 11 0;
#X connect 14 0 22 0;
#X connect 17 0 24 0;
#X connect 18 0 28 0;
#X connect 18 0 30 0;
#X connect 20 0 28 1;
#X connect 20 0 29 0;
#X connect 21 1 23 0;
#X connect 22 0 18 0;
#X connect 23 0 26 0;
#X connect 23 0 33 0;
#X connect 24 0 20 0;
#X connect 24 1 20 0;
#X connect 27 0 25 0;
#X connect 27 0 33 1;
#X connect 28 0 16 0;
#X connect 30 0 23 0;
#X connect 33 0 17 0;
#X connect 33 1 17 1;
#X restore 600 90 pd sequencia;
#X obj 600 119 s~ sequencia;
#X msg 10 130 ligado;
#X msg 20 160 desligado;
#X obj 10 190 print switch;
#X obj 590 290 declare -lib zexy;
#X obj 590 320 declare -lib cyclone;
#X connect 0 0 17 0;
#X connect 1 0 6 0;
#X connect 2 0 4 0;
#X connect 3 0 4 0;
#X connect 8 0 16 1;
#X connect 11 0 14 4;
#X connect 12 0 15 1;
#X connect 13 0 14 0;
#X connect 13 1 14 1;
#X connect 13 2 14 2;
#X connect 13 3 14 3;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 7 0;
#X connect 17 0 2 0;
#X connect 17 0 20 0;
#X connect 17 1 21 0;
#X connect 17 1 3 0;
#X connect 17 2 13 0;
#X connect 17 3 5 0;
#X connect 17 4 10 0;
#X connect 17 5 9 0;
#X connect 17 6 11 0;
#X connect 17 7 12 0;
#X connect 17 8 8 0;
#X connect 17 9 8 1;
#X connect 17 10 18 0;
#X connect 18 0 19 0;
#X connect 20 0 22 0;
#X connect 21 0 22 0;
